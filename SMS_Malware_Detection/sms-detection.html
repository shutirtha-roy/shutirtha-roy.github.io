<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SMS Shield - SMS Detection</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <style>
    :root {
      --primary-color: #4361ee;
      --secondary-color: #3a0ca3;
      --light-color: #f8f9fa;
      --dark-color: #212529;
      --danger-color: #e63946;
      --success-color: #2a9d8f;
      --warning-color: #e9c46a;
    }
    
    body {
      background-color: var(--light-color);
      color: var(--dark-color);
    }
    
    .sidebar {
      min-height: 100vh;
      background-color: var(--dark-color);
      color: white;
      position: sticky;
      top: 0;
    }
    
    .sidebar .logo {
      padding: 20px 15px;
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    
    .sidebar .nav-link {
      color: rgba(255,255,255,0.7);
      border-radius: 0;
      padding: 12px 20px;
      margin: 4px 0;
    }
    
    .sidebar .nav-link:hover,
    .sidebar .nav-link.active {
      color: white;
      background-color: rgba(255,255,255,0.1);
    }
    
    .sidebar .nav-link i {
      margin-right: 10px;
      width: 20px;
      text-align: center;
    }
    
    .main-content {
      padding: 20px;
    }
    
    .card {
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.05);
      margin-bottom: 20px;
      border: none;
    }
    
    .card-header {
      background-color: white;
      border-bottom: 1px solid rgba(0,0,0,0.05);
      padding: 15px 20px;
    }
    
    .card-body {
      padding: 20px;
    }
    
    .btn-primary {
      background-color: var(--primary-color);
      border-color: var(--primary-color);
    }
    
    .btn-outline-primary {
      color: var(--primary-color);
      border-color: var(--primary-color);
    }
    
    .shield-icon {
      color: var(--primary-color);
    }
    
    .user-avatar {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: var(--primary-color);
      color: white;
      font-weight: bold;
      margin-right: 10px;
    }

    .sms-input {
      min-height: 120px;
      border-radius: 10px;
    }

    .result-box {
      border-radius: 10px;
      padding: 20px;
      margin-top: 20px;
      display: none;
    }

    .result-box.spam {
      background-color: rgba(230, 57, 70, 0.1);
      border: 1px solid rgba(230, 57, 70, 0.3);
    }

    .result-box.ham {
      background-color: rgba(42, 157, 143, 0.1);
      border: 1px solid rgba(42, 157, 143, 0.3);
    }

    .analysis-detail {
      margin-top: 20px;
    }

    .progress {
      height: 10px;
      margin-bottom: 10px;
    }

    .progress-label {
      display: flex;
      justify-content: space-between;
      margin-bottom: 5px;
    }

    .prediction-tag {
      font-size: 1.5rem;
      font-weight: bold;
      margin-bottom: 10px;
    }

    .context-header {
      background-color: rgba(0,0,0,0.03);
      padding: 10px;
      border-radius: 5px;
      margin-bottom: 15px;
    }

    .sms-context {
      padding: 15px;
      background-color: rgba(0,0,0,0.02);
      border-radius: 5px;
      margin-bottom: 20px;
      font-style: italic;
    }

    .feature-highlight {
      background-color: rgba(230, 57, 70, 0.2);
      padding: 2px 4px;
      border-radius: 3px;
      font-weight: bold;
    }

    .upload-area {
      border: 2px dashed #ccc;
      border-radius: 10px;
      padding: 25px;
      text-align: center;
      margin-bottom: 20px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .upload-area:hover {
      border-color: var(--primary-color);
    }

    .upload-area i {
      font-size: 2rem;
      color: #ccc;
      margin-bottom: 10px;
    }

    .detection-tabs .nav-link {
      color: var(--dark-color);
      padding: 10px 20px;
    }

    .detection-tabs .nav-link.active {
      color: var(--primary-color);
      font-weight: bold;
      border-bottom: 2px solid var(--primary-color);
    }

    .url-input-group {
      border-radius: 10px;
      overflow: hidden;
    }
  </style>
</head>
<body>
  <div class="container-fluid">
    <div class="row">
      <!-- Sidebar -->
      <div class="col-md-3 col-lg-2 sidebar d-none d-md-block">
        <div class="logo d-flex align-items-center">
          <i class="fas fa-shield-alt shield-icon me-2"></i>
          <h4 class="mb-0">SMS Shield</h4>
        </div>
        <ul class="nav flex-column mt-4">
          <li class="nav-item">
            <a class="nav-link" href="user-dashboard.html">
              <i class="fas fa-tachometer-alt"></i> Dashboard
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="sms-detection.html">
              <i class="fas fa-search"></i> SMS Detection
            </a>
          </li>
          <li class="nav-item mt-auto">
            <a class="nav-link text-danger" href="login-page.html">
              <i class="fas fa-sign-out-alt"></i> Logout
            </a>
          </li>
        </ul>
      </div>
      
      <!-- Main Content -->
      <div class="col-md-9 col-lg-10 main-content">
        <div class="d-flex justify-content-between align-items-center mb-4">
          <h1>SMS Detection</h1>
          <div class="d-flex align-items-center">
            <div class="dropdown">
              <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                <div class="d-inline-flex align-items-center">
                  <div class="user-avatar">JD</div>
                  <span>John Doe</span>
                </div>
              </button>
              <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdownMenuButton">
                <li><a class="dropdown-item" href="#"><i class="fas fa-user me-2"></i> Profile</a></li>
                <li><a class="dropdown-item" href="user-settings.html"><i class="fas fa-cog me-2"></i> Settings</a></li>
                <li><hr class="dropdown-divider"></li>
                <li><a class="dropdown-item text-danger" href="login.html"><i class="fas fa-sign-out-alt me-2"></i> Logout</a></li>
              </ul>
            </div>
          </div>
        </div>
        
        <!-- Detection Card -->
        <div class="card">
          <div class="card-header d-flex justify-content-between align-items-center">
            <h5 class="mb-0">Analyze SMS Message</h5>
            <button class="btn btn-sm btn-outline-primary"><i class="fas fa-question-circle me-1"></i> Help</button>
          </div>
          <div class="card-body">
            <ul class="nav nav-tabs detection-tabs mb-4" id="detectionTabs" role="tablist">
              <li class="nav-item" role="presentation">
                <button class="nav-link active" id="text-tab" data-bs-toggle="tab" data-bs-target="#text-input" type="button" role="tab" aria-controls="text-input" aria-selected="true">Text Input</button>
              </li>
            </ul>
            
            <div class="tab-content" id="detectionTabsContent">
              <!-- Text Input Tab -->
              <div class="tab-pane fade show active" id="text-input" role="tabpanel" aria-labelledby="text-tab">
                <form id="smsForm">
                  <div class="mb-3">
                    <label for="smsInput" class="form-label">Enter SMS Text</label>
                    <textarea class="form-control sms-input" id="smsInput" rows="4" placeholder="Paste your SMS text here for analysis..."></textarea>
                  </div>
                  <div class="d-flex gap-2">
                    <button type="button" class="btn btn-primary" onclick="showResults('spam')"><i class="fas fa-shield-alt me-1"></i> Analyze SMS</button>
                    <button type="button" class="btn btn-outline-secondary" onclick="clearForm()"><i class="fas fa-times me-1"></i> Clear</button>
                  </div>
                </form>
              </div>
              
              <!-- File Upload Tab -->
              <div class="tab-pane fade" id="file-upload" role="tabpanel" aria-labelledby="file-tab">
                <div class="upload-area" onclick="document.getElementById('fileInput').click()">
                  <i class="fas fa-cloud-upload-alt"></i>
                  <h5>Drop your file here</h5>
                  <p class="text-muted">or click to browse</p>
                  <input type="file" id="fileInput" class="d-none" accept=".txt,.csv">
                </div>
                <div class="mb-3">
                  <label class="form-label">Supported Formats</label>
                  <div class="d-flex flex-wrap gap-2">
                    <span class="badge bg-light text-dark">TXT</span>
                    <span class="badge bg-light text-dark">CSV</span>
                  </div>
                  <small class="text-muted d-block mt-2">Maximum file size: 5MB</small>
                </div>
                <div class="d-flex gap-2">
                  <button type="button" class="btn btn-primary" onclick="showResults('spam')"><i class="fas fa-shield-alt me-1"></i> Analyze File</button>
                </div>
              </div>
              
              <!-- URL Input Tab -->
              <div class="tab-pane fade" id="url-input" role="tabpanel" aria-labelledby="url-tab">
                <div class="mb-3">
                  <label for="urlInput" class="form-label">Enter URL</label>
                  <div class="input-group url-input-group mb-3">
                    <span class="input-group-text"><i class="fas fa-link"></i></span>
                    <input type="url" class="form-control" id="urlInput" placeholder="https://example.com/sms-data">
                    <button class="btn btn-primary" type="button" onclick="showResults('ham')">Analyze</button>
                  </div>
                  <small class="text-muted">The URL should point to a text file containing the SMS message</small>
                </div>
              </div>
            </div>
            
            <!-- Results Section (hidden initially, shown after analysis) -->
            <div class="result-box spam" id="spamResult">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <div class="prediction-tag text-danger">
                  <i class="fas fa-exclamation-triangle me-2"></i> Malicious SMS Detected
                </div>
                <span class="badge bg-danger px-3 py-2">98.7% Confidence</span>
              </div>
              
              <div class="context-header">
                <h6>SMS Content</h6>
                <div class="sms-context">
                  URGENT: Your account has been <span class="feature-highlight">suspended</span>. Call <span class="feature-highlight">+44-7700-900123</span> to <span class="feature-highlight">reactivate</span> your account <span class="feature-highlight">immediately</span>! <span class="feature-highlight">Fee</span>: £2.50/min.
                </div>
              </div>
              
              <div class="row">
                <div class="col-md-6">
                  <h6>Detection Features</h6>
                  <div class="analysis-detail">
                    <div class="progress-label">
                      <span>Urgency Words</span>
                      <span>Very High</span>
                    </div>
                    <div class="progress">
                      <div class="progress-bar bg-danger" role="progressbar" style="width: 95%" aria-valuenow="95" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    
                    <div class="progress-label">
                      <span>Financial Terms</span>
                      <span>High</span>
                    </div>
                    <div class="progress">
                      <div class="progress-bar bg-danger" role="progressbar" style="width: 80%" aria-valuenow="80" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    
                    <div class="progress-label">
                      <span>Action Required</span>
                      <span>Very High</span>
                    </div>
                    <div class="progress">
                      <div class="progress-bar bg-danger" role="progressbar" style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    
                    <div class="progress-label">
                      <span>Premium Rate Number</span>
                      <span>Detected</span>
                    </div>
                    <div class="progress">
                      <div class="progress-bar bg-danger" role="progressbar" style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <h6>Threat Analysis</h6>
                  <div class="alert alert-danger">
                    <h6><i class="fas fa-virus me-2"></i> Phishing Attempt</h6>
                    <p class="mb-0">This message is attempting to trick you into calling a premium rate number that will charge you high fees.</p>
                  </div>
                  <h6 class="mt-3">Recommended Actions</h6>
                  <ul class="list-group">
                    <li class="list-group-item list-group-item-danger"><i class="fas fa-times-circle me-2"></i> Do not call the provided number</li>
                    <li class="list-group-item"><i class="fas fa-trash me-2"></i> Delete this message</li>
                    <li class="list-group-item"><i class="fas fa-ban me-2"></i> Block the sender</li>
                    <li class="list-group-item"><i class="fas fa-flag me-2"></i> Report to your mobile carrier</li>
                  </ul>
                </div>
              </div>
            </div>
            
            <div class="result-box ham" id="hamResult">
              <div class="d-flex justify-content-between align-items-center mb-3">
                <div class="prediction-tag text-success">
                  <i class="fas fa-check-circle me-2"></i> Legitimate SMS Detected
                </div>
                <span class="badge bg-success px-3 py-2">99.3% Confidence</span>
              </div>
              
              <div class="context-header">
                <h6>SMS Content</h6>
                <div class="sms-context">
                  Hi Sarah, your dental appointment is tomorrow at 3:30pm. Reply Y to confirm or call us at 555-1234 to reschedule. Thank you!
                </div>
              </div>
              
              <div class="row">
                <div class="col-md-6">
                  <h6>Detection Features</h6>
                  <div class="analysis-detail">
                    <div class="progress-label">
                      <span>Conversational Tone</span>
                      <span>High</span>
                    </div>
                    <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar" style="width: 90%" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    
                    <div class="progress-label">
                      <span>Service-Related</span>
                      <span>High</span>
                    </div>
                    <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar" style="width: 85%" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    
                    <div class="progress-label">
                      <span>Urgency Words</span>
                      <span>Low</span>
                    </div>
                    <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar" style="width: 15%" aria-valuenow="15" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    
                    <div class="progress-label">
                      <span>Suspicious Links</span>
                      <span>None</span>
                    </div>
                    <div class="progress">
                      <div class="progress-bar bg-success" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                  </div>
                </div>
                <div class="col-md-6">
                  <h6>Message Analysis</h6>
                  <div class="alert alert-success">
                    <h6><i class="fas fa-info-circle me-2"></i> Appointment Reminder</h6>
                    <p class="mb-0">This appears to be a legitimate appointment reminder from a service provider.</p>
                  </div>
                  <h6 class="mt-3">Message Characteristics</h6>
                  <ul class="list-group">
                    <li class="list-group-item list-group-item-success"><i class="fas fa-check me-2"></i> Contains personal greeting</li>
                    <li class="list-group-item list-group-item-success"><i class="fas fa-check me-2"></i> Specific appointment details</li>
                    <li class="list-group-item list-group-item-success"><i class="fas fa-check me-2"></i> Standard phone number format</li>
                    <li class="list-group-item list-group-item-success"><i class="fas fa-check me-2"></i> Clear response instructions</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Model Information Card -->
        <div class="card">
          <div class="card-header">
            <h5 class="mb-0">About Our Detection Model</h5>
          </div>
          <div class="card-body">
            <div class="row align-items-center">
              <div class="col-md-6">
                <h6>Hybrid Machine Learning Model</h6>
                <p>Our SMS Shield uses a powerful hybrid approach combining two advanced algorithms:</p>
                <ul>
                  <li><strong>Multinomial Naive Bayes:</strong> Probabilistic classifier that excels at text classification tasks with excellent computational efficiency</li>
                  <li><strong>Support Vector Machine:</strong> Provides optimal separation between spam and legitimate messages</li>
                </ul>
                <p>This ensemble combination achieves industry-leading accuracy of 97.4% in detecting malicious SMS messages.</p>
                
                <div class="d-flex align-items-center mt-4">
                  <div class="me-4">
                    <div class="d-flex align-items-center">
                      <i class="fas fa-shield-alt me-2 text-primary"></i>
                      <span>Protection Score: <strong>97.4%</strong></span>
                    </div>
                  </div>
                  <div>
                    <div class="d-flex align-items-center">
                      <i class="fas fa-sync-alt me-2 text-success"></i>
                      <span>Last Updated: <strong>March 30, 2025</strong></span>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <img src="/api/placeholder/500/300" alt="Model Architecture" class="img-fluid rounded">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    // Function to show results (either spam or ham)
    function showResults(type) {
      // Hide both result boxes
      document.getElementById('spamResult').style.display = 'none';
      document.getElementById('hamResult').style.display = 'none';
      
      // Show the requested result box
      document.getElementById(type + 'Result').style.display = 'block';
      
      // Scroll to the results
      document.getElementById(type + 'Result').scrollIntoView({behavior: 'smooth'});
    }
    
    // Function to clear the form
    function clearForm() {
      document.getElementById('smsInput').value = '';
      document.getElementById('spamResult').style.display = 'none';
      document.getElementById('hamResult').style.display = 'none';
    }
    
    // File input handling
    document.getElementById('fileInput').addEventListener('change', function(e) {
      if (e.target.files.length > 0) {
        let fileName = e.target.files[0].name;
        alert('File uploaded: ' + fileName);
        // In a real application, you would process the file here
      }
    });
    
    // Drag and drop handling for the upload area
    const uploadArea = document.querySelector('.upload-area');
    
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
      uploadArea.addEventListener(eventName, preventDefaults, false);
    });
    
    function preventDefaults(e) {
      e.preventDefault();
      e.stopPropagation();
    }
    
    ['dragenter', 'dragover'].forEach(eventName => {
      uploadArea.addEventListener(eventName, highlight, false);
    });
    
    ['dragleave', 'drop'].forEach(eventName => {
      uploadArea.addEventListener(eventName, unhighlight, false);
    });
    
    function highlight() {
      uploadArea.style.borderColor = '--primary-color';
      uploadArea.style.backgroundColor = 'rgba(67, 97, 238, 0.05)';
    }
    
    function unhighlight() {
      uploadArea.style.borderColor = '#ccc';
      uploadArea.style.backgroundColor = 'transparent';
    }
    
    uploadArea.addEventListener('drop', handleDrop, false);
    
    function handleDrop(e) {
      const dt = e.dataTransfer;
      const files = dt.files;
      
      if (files.length > 0) {
        document.getElementById('fileInput').files = files;
        alert('File uploaded: ' + files[0].name);
        // In a real application, you would process the file here
      }
    }
  </script>
</body>
</html>